import{w as R}from"./install.07dc22a1.js";import T from"./pagination.f7f94e17.js";import{d as B,f as c,i as D,v as A,e as S,o as u,c as i,x as d,F as g,K as h,W as F,b as m,D as q,t as x,_ as z}from"./framework.682d4684.js";const I=R(T),N={class:"table"},U={class:"header-row"},s=10,V=B({__name:"table",setup(C){const v=c([]),r=c(!1);D(()=>{v.value=Array.from(document.querySelectorAll(".row"));const t=w();t>0&&(b.value=s*t)}),A(()=>{v.value=[]});const _=(t=>{const a=[];for(let e=1;e<=t;e++)a.push({id:e,name:`Person ${e}`,age:Math.floor(Math.random()*100)+1});return a})(90),p=[{key:"name",label:"姓名",width:150,sortable:!0},{key:"age",label:"年龄",width:80,sortable:!1}],o=c(1),n=c(null),y=S(()=>Math.ceil(_.length/s)),b=c(s*30),M=S(()=>{const t=(o.value-1)*s,a=t+s;return _.slice(t,a)}),w=()=>v.value.length>0?v.value[0].clientHeight:0,k=((t,a)=>{let e;return function(){const f=this,l=arguments;e||(e=setTimeout(()=>{e=null,t.apply(f,l)},a))}})(()=>{if(n.value&&!r.value){const t=n.value.scrollTop,a=n.value.scrollHeight,e=n.value.clientHeight;if(t+e>=a&&o.value!==y.value&&!r.value)r.value=!0,o.value=o.value+1,n.value.scrollTop=0,requestAnimationFrame(()=>{r.value=!1});else{const l=w();if(l>0){const P=Math.floor(t/l),H=Math.ceil(P/s)+1;H!==o.value&&(o.value=H)}}}r.value=!1},200);return(t,a)=>(u(),i("div",N,[d("div",U,[(u(),i(g,null,h(p,e=>d("div",{key:e.key,class:"column"},x(e.label),1)),64))]),d("div",{class:"body",ref_key:"body",ref:n,onScroll:a[0]||(a[0]=(...e)=>m(k)&&m(k)(...e))},[d("div",{class:"body-content",style:F({height:b.value+"px"})},[(u(!0),i(g,null,h(M.value,(e,f)=>(u(),i("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+f},[(u(),i(g,null,h(p,l=>d("div",{key:l.key,class:"column"},x(e[l.key]),1)),64))]))),128))],4)],544),q(m(I),{current:o.value,"onUpdate:current":a[1]||(a[1]=e=>o.value=e),total:y.value},null,8,["current","total"])]))}});const j=z(V,[["__scopeId","data-v-0a3477aa"]]);export{j as default};
