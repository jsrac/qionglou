import{d as M,f as c,i as R,v as C,e as D,o as d,c as r,x as o,F as v,K as f,W as z,b as k,t as w,_ as A}from"./framework.682d4684.js";const F={class:"table"},q={class:"header-row"},E={class:"pagination"},I=["disabled"],K=["disabled"],s=10,L=M({__name:"table",setup(N){const u=c([]),h=c(!1);R(()=>{u.value=Array.from(document.querySelectorAll(".row"));const t=b();t>0&&(y.value=s*t)}),C(()=>{u.value=[]});const _=[{id:1,name:"John Doe",age:1},{id:2,name:"Jane Smith",age:2},{id:3,name:"John Doe",age:3},{id:4,name:"Jane Smith",age:4},{id:5,name:"John Doe",age:5},{id:6,name:"Jane Smith",age:6},{id:7,name:"John Doe",age:7},{id:8,name:"Jane Smith",age:9},{id:9,name:"John Doe",age:10},{id:10,name:"Jane Smith",age:11},{id:11,name:"John Doe",age:12},{id:12,name:"Jane Smith",age:13},{id:13,name:"John Doe",age:14},{id:14,name:"Jane Smith",age:15},{id:15,name:"John Doe",age:16},{id:16,name:"Jane Smith",age:17},{id:17,name:"John Doe",age:18},{id:18,name:"Jane Smith",age:19},{id:19,name:"John Doe",age:20},{id:20,name:"Jane Smith",age:21},{id:21,name:"John Doe",age:22},{id:22,name:"Jane Smith",age:23},{id:23,name:"John Doe",age:24},{id:24,name:"Jane Smith",age:25},{id:25,name:"John Doe",age:26},{id:26,name:"John Doe",age:27},{id:27,name:"Jane Smith",age:28},{id:28,name:"John Doe",age:29},{id:29,name:"Jane Smith",age:30},{id:30,name:"John Doe",age:31}],J=[{key:"name",label:"姓名",width:150,sortable:!0},{key:"age",label:"年龄",width:80,sortable:!1}],a=c(1),i=c(null),g=D(()=>Math.ceil(_.length/s)),y=c(s*30),H=D(()=>{const t=(a.value-1)*s,n=t+s;return _.slice(t,n)}),b=()=>u.value.length>0?u.value[0].clientHeight:0,x=()=>{if(i.value&&!h.value){const t=i.value.scrollTop,n=i.value.scrollHeight,e=i.value.clientHeight;if(t+e>=n&&a.value!==g.value)h.value=!0,setTimeout(()=>{console.log("yes"),a.value=a.value+1},1e3);else{const l=b();if(l>0){const P=Math.floor(t/l),p=Math.ceil(P/s)+1;p!==a.value&&(a.value=p)}}}h.value=!1},T=()=>{a.value>1&&a.value--},B=()=>{a.value<g.value&&a.value++},S=((t,n)=>{let e;return function(){const m=this,l=arguments;e||(e=setTimeout(()=>{e=null,t.apply(m,l)},n))}})(x,200);return(t,n)=>(d(),r("div",F,[o("div",q,[(d(),r(v,null,f(J,e=>o("div",{key:e.key,class:"column"},w(e.label),1)),64))]),o("div",{class:"body",ref_key:"body",ref:i,onScroll:n[0]||(n[0]=(...e)=>k(S)&&k(S)(...e))},[o("div",{class:"body-content",style:z({height:y.value+"px"})},[(d(!0),r(v,null,f(H.value,(e,m)=>(d(),r("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+m},[(d(),r(v,null,f(J,l=>o("div",{key:l.key,class:"column"},w(e[l.key]),1)),64))]))),128))],4)],544),o("div",E,[o("button",{onClick:T,disabled:a.value===1},"上一页",8,I),o("button",{onClick:B,disabled:a.value===g.value},"下一页",8,K)])]))}});const W=A(L,[["__scopeId","data-v-88af1917"]]);export{W as default};
