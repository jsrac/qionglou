import{f as M,_ as z,w as P,i as x,R as w,o,c as s,x as _,b as g,F as k,A as b,K as S,t as m,n as $,h as A}from"./framework.682d4684.js";const t=M(1),J=a=>{t.value=a,console.log(`Received update. Current page is now: ${a}`)};const D={class:"pagination"},F=["disabled"],I={key:0},N={key:1},O=["onClick"],R={key:2},T={key:3},V=["onClick"],E=["disabled"],K={__name:"pagination",props:["current","total","layout","showSeparator"],setup(a){const{current:p,total:i,layout:q,showSeparator:G}=a,l=A(),y=()=>{const n=i,r=p,e=2;let v=Math.max(1,r-e),C=Math.min(n,r+e);const c=[];for(let h=v;h<=C;h++)c.push(h);return v>1&&(c.unshift("..."),c.unshift(1)),C<n&&(c.push("..."),c.push(n)),c},u=M(y());P([p,i],()=>{t.value=p,u.value=y()});const f=()=>{l==null||l.appContext.app.emit("update:current",t.value)};x(()=>{w("provideCurrentPage",f)});const d=n=>{n>=1&&n<=i&&(t.value=n,l.emit("update:current",n))};P(t,n=>{l.emit("update:current",n)});const j=()=>{t.value>1&&(t.value--,l.emit("update:current",t.value))},B=()=>{t.value<i&&(t.value++,l.emit("update:current",t.value))};return x(()=>{w("provideCurrentPage",f)}),(n,r)=>(o(),s("div",D,[_("button",{onClick:r[0]||(r[0]=e=>d(1))},"首页"),_("button",{onClick:j,disabled:g(t)===1},"上一页",8,F),a.layout==="abridge"?(o(),s(k,{key:0},[u.value[0]!==1?(o(),s("button",I,"1")):b("",!0),u.value[0]>2?(o(),s("span",N,"...")):b("",!0),(o(!0),s(k,null,S(u.value,e=>(o(),s("button",{key:e,onClick:v=>d(e),class:$({active:g(t)===e})},m(e),11,O))),128)),u.value[u.value.length-1]<a.total-1?(o(),s("span",R,"...")):b("",!0),u.value[u.value.length-1]!==a.total?(o(),s("button",T,m(a.total),1)):b("",!0)],64)):(o(!0),s(k,{key:1},S(a.total,e=>(o(),s("button",{key:e,onClick:v=>d(e),class:$({active:g(t)===e})},m(e),11,V))),128)),_("button",{onClick:B,disabled:g(t)===a.total},"下一页",8,E),_("button",{onClick:r[1]||(r[1]=e=>d(a.total))},"尾页")]))}},L=z(K,[["__scopeId","data-v-b5c0c74b"]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as P,Q as p,J as u};
