import{w as J,Q as F}from"./icon.vue_vue_type_script_setup_true_lang.4d742590.js";import K from"./pagination.417cfe7c.js";import{d as X,f as c,e as _,i as Z,v as $,U as M,o as n,c as s,x as S,n as b,b as t,F as H,M as k,Y as f,D as P,z as Q,a as U,t as V,_ as tt}from"./framework.20dc2a15.js";import"./text.vue_vue_type_script_setup_true_lang.01441831.js";import"./index.81accf4f.js";import"./button.vue_vue_type_script_setup_true_lang.2fcb53c8.js";const et=J(K),ot={data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pageNum:{type:Number,default:10},conHig:{type:String,default:"none"},paging:{type:String,default:"none"},pageShow:{type:String,default:"abridge"},site:{type:String,default:"center"},weight:{type:String,default:"500"},color:{type:String,default:""},font:{type:String,default:""},url:{type:String,default:""},background:{type:String,default:"rgba(255,255,255,0)"}},at={class:"table"},lt=X({__name:"table",props:ot,setup(I){const T=I,{data:z,columns:p,pageNum:O,conHig:h,pageShow:q,site:E,url:y,font:v,color:m,weight:w}=T,N=c(1),d=c([]),i=+O,r=c(1),u=c(null),x=_(()=>Math.ceil(z.length/i)),B=c(i*30),L=_(()=>{const o=(r.value-1)*i,a=o+i;return z.slice(o,a)}),W=_(()=>h==="none"?{maxHeight:"fit-content",overflow:"auto"}:{small:{overflow:"auto",maxHeight:"400px"},medium:{padding:"16px"},large:{padding:"10px 64px"},mini:{padding:"4px"}}[h]||"padding:"+h);Z(()=>{d.value=Array.from(document.querySelectorAll(".row"));const o=Y();o>0&&(B.value=i*o)}),$(()=>{d.value=[]});const A=o=>typeof o.width=="string"?o.width:typeof o.width=="number"?o.width+"px":"110px",Y=()=>d.value.length>0?d.value[0].clientHeight:0,j=()=>{var l,C,D;if(T.conHig==="none"||r.value>=x.value)return;const o=((l=u.value)==null?void 0:l.scrollTop)||0,a=((C=u.value)==null?void 0:C.scrollHeight)||0,e=((D=u.value)==null?void 0:D.clientHeight)||0;o+e>=a&&r.value!==x.value&&(r.value+=1,u.value.scrollTop=0,N.value=r.value)};M("scrollPage",r);const G=(o,a)=>{let e;return function(){const g=this,l=arguments;e||(e=setTimeout(()=>{e=null,o.apply(g,l)},a))}};M("scrollPage",N);const R=G(j,200);return(o,a)=>(n(),s("div",at,[S("div",{style:f(W.value),ref_key:"body",ref:u,onScroll:a[0]||(a[0]=(...e)=>t(R)&&t(R)(...e))},[S("div",{class:b(["header-row",{"fixed-column-true":t(p).some(e=>e.titleFix)}])},[(n(!0),s(H,null,k(t(p),e=>(n(),s("div",{key:e.key,class:b(["header-title",{"fixed-column":e.fixed}]),style:f({width:A(e)})},[P(t(F),{url:t(y),font:t(v),color:t(m),weight:t(w)},{default:Q(()=>[U(V(e.label),1)]),_:2},1032,["url","font","color","weight"])],6))),128))],2),S("div",{class:"body-content",style:f({height:B.value+"px"})},[(n(!0),s(H,null,k(L.value,(e,g)=>(n(),s("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+g},[(n(!0),s(H,null,k(t(p),l=>(n(),s("div",{key:l.key,class:b(["column",{"fixed-column":l.fixed}]),style:f({width:A(l)})},[P(t(F),{url:t(y),font:t(v),color:t(m),weight:t(w)},{default:Q(()=>[U(V(e[l.key]),1)]),_:2},1032,["url","font","color","weight"])],6))),128))]))),128))],4)],36),P(t(et),{ref:"pagination",current:r.value,"onUpdate:current":a[1]||(a[1]=e=>r.value=e),total:x.value,layout:t(q),site:t(E),url:t(y),font:t(v),color:t(m),weight:t(w)},null,8,["current","total","layout","site","url","font","color","weight"])]))}});const dt=tt(lt,[["__scopeId","data-v-faa40aa5"]]);export{dt as default};
