import{w as O}from"./icon.vue_vue_type_script_setup_true_lang.e5a64090.js";import V from"./pagination.66fdbfb7.js";import{d as q,f as i,e as v,i as C,v as E,U as T,o as l,c as s,x as m,F as y,M as h,b as r,Y as B,D as L,t as N,_ as Q}from"./framework.515a0def.js";import"./text.vue_vue_type_script_setup_true_lang.6aa91f11.js";import"./index.38583f13.js";import"./button.vue_vue_type_script_setup_true_lang.e985f7d1.js";const j=O(V),G={data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pageNum:{type:Number,default:10},conHig:{type:String,default:"none"},paging:{type:String,default:"none"},pageShow:{type:String,default:"abridge"},site:{type:String,default:"center"}},J={class:"table"},K={class:"header-row"},W=q({__name:"table",props:G,setup(z){const _=z,{data:b,columns:w,pageNum:A,conHig:g,pageShow:R,site:D}=_,x=i(1),p=i([]);i(!1);const c=+A,n=i(1),u=i(null),f=v(()=>Math.ceil(b.length/c)),H=i(c*30),M=v(()=>{const t=(n.value-1)*c,o=t+c;return b.slice(t,o)}),U=v(()=>g==="none"?{maxHeight:"fit-content",overflowY:"clip"}:{small:{overflowY:"auto",maxHeight:"400px"},medium:{padding:"16px"},large:{padding:"10px 64px"},mini:{padding:"4px"}}[g]||"padding:"+g);C(()=>{p.value=Array.from(document.querySelectorAll(".row"));const t=Y();t>0&&(H.value=c*t)}),E(()=>{p.value=[]});const Y=()=>p.value.length>0?p.value[0].clientHeight:0,F=()=>{var a,k,P;if(_.conHig==="none"||n.value>=f.value)return;const t=((a=u.value)==null?void 0:a.scrollTop)||0,o=((k=u.value)==null?void 0:k.scrollHeight)||0,e=((P=u.value)==null?void 0:P.clientHeight)||0;t+e>=o&&n.value!==f.value&&(n.value+=1,u.value.scrollTop=0,x.value=n.value)};T("scrollPage",n);const I=(t,o)=>{let e;return function(){const d=this,a=arguments;e||(e=setTimeout(()=>{e=null,t.apply(d,a)},o))}};T("scrollPage",x);const S=I(F,200);return(t,o)=>(l(),s("div",J,[m("div",K,[(l(!0),s(y,null,h(r(w),e=>(l(),s("div",{key:e.key,class:"column"},N(e.label),1))),128))]),m("div",{style:B(U.value),ref_key:"body",ref:u,onScroll:o[0]||(o[0]=(...e)=>r(S)&&r(S)(...e))},[m("div",{class:"body-content",style:B({height:H.value+"px"})},[(l(!0),s(y,null,h(M.value,(e,d)=>(l(),s("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+d},[(l(!0),s(y,null,h(r(w),a=>(l(),s("div",{key:a.key,class:"column"},N(e[a.key]),1))),128))]))),128))],4)],36),L(r(j),{ref:"pagination",current:n.value,"onUpdate:current":o[1]||(o[1]=e=>n.value=e),total:f.value,layout:r(R),site:r(D)},null,8,["current","total","layout","site"])]))}});const ne=Q(W,[["__scopeId","data-v-cc443c66"]]);export{ne as default};
