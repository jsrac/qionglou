import{P as U,u as S}from"./pagination.0ee93c45.js";import{w as z}from"./install.07dc22a1.js";import{d as C,f as i,e as P,i as F,v as I,o as a,c as n,x as m,F as y,K as h,b as u,W as V,D as x,t as T,_ as q}from"./framework.682d4684.js";const B=z(U),E={data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pageNum:{type:Number,default:10}},K={class:"table"},L={class:"header-row"},Q=C({__name:"table",props:E,setup(N){const A=N,{data:_,columns:b,pageNum:M}=A,d=i([]),f=i(!1),r=M,o=i(1),s=i(null),p=P(()=>Math.ceil(_.length/r)),w=i(r*30);F(()=>{d.value=Array.from(document.querySelectorAll(".row"));const t=k();t>0&&(w.value=r*t)}),I(()=>{d.value=[]});const R=P(()=>{const t=(o.value-1)*r,l=t+r;return _.slice(t,l)}),k=()=>d.value.length>0?d.value[0].clientHeight:0,H=((t,l)=>{let e;return function(...v){e||(e=setTimeout(()=>{e=null,t(...v)},l))}})(()=>{if(s.value&&!f.value){const t=s.value.scrollTop,l=s.value.scrollHeight,e=s.value.clientHeight;if(t+e>=l&&o.value!==p.value)f.value=!0,o.value++,s.value.scrollTop=0,S(o.value);else{const c=k();if(c>0){const D=Math.floor(t/c),g=Math.ceil(D/r)+1;g!==o.value&&(o.value=g,S(g))}}}f.value=!1},200);return(t,l)=>(a(),n("div",K,[m("div",L,[(a(!0),n(y,null,h(u(b),e=>(a(),n("div",{key:e.key,class:"column"},T(e.label),1))),128))]),m("div",{class:"body",ref_key:"body",ref:s,onScroll:l[0]||(l[0]=(...e)=>u(H)&&u(H)(...e))},[m("div",{class:"body-content",style:V({height:w.value+"px"})},[(a(!0),n(y,null,h(R.value,(e,v)=>(a(),n("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+v},[(a(!0),n(y,null,h(u(b),c=>(a(),n("div",{key:c.key,class:"column"},T(e[c.key]),1))),128))]))),128))],4)],544),x(u(B),{current:o.value,"onUpdate:current":l[1]||(l[1]=e=>o.value=e),total:p.value},null,8,["current","total"]),x(u(B),{current:o.value,"onUpdate:current":l[2]||(l[2]=e=>o.value=e),total:p.value,layout:"abridge"},null,8,["current","total"])]))}});const X=q(Q,[["__scopeId","data-v-84d240cd"]]);export{X as default};
