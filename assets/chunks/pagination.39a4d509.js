import{Q as i}from"./index.3448ad0b.js";import{_ as A,f as D,w as x,U as F,S as I,o as n,c as u,b as t,y as _,A as v,F as P,M as C,D as h,n as b,h as Q}from"./framework.c9c8872b.js";import"./icon.vue_vue_type_script_setup_true_lang.ef69f720.js";import"./text.vue_vue_type_script_setup_true_lang.668a868b.js";import"./button.vue_vue_type_script_setup_true_lang.60445642.js";const S={current:{type:Number},total:{type:Number},layout:{type:String,default:"abridge"}};const V={class:"pagination"},z={key:0},E={key:1},L={__name:"pagination",props:S,setup(B){const N=B;let{current:e,total:o,layout:$}=N;const d=Q(),k=()=>{const s=o,r=e,a=2;let m=Math.max(1,r-a),f=Math.min(s,r+a);const c=[];for(let y=m;y<=f;y++)c.push(y);return m>1&&(c.unshift("..."),c.unshift(1)),f<s&&(c.push("..."),c.push(s)),c},l=D(k());x([e,o],()=>{l.value=k()}),F("provideCurrentPage",()=>{d==null||d.appContext.app.emit("update:current",e)});const p=s=>{s>=1&&s<=o&&(e=s,l.value=k(),d.emit("update:current",e))},g=s=>p(s),M=()=>p(e-1),j=()=>p(e+1),w=I("scrollPage");return x(w,s=>{console.log("scrollPage 变化了，新值为:",s),p(e+1)}),(s,r)=>(n(),u("div",V,[t(e)!==1?(n(),_(t(i),{key:0,onClick:r[0]||(r[0]=a=>g(1)),text:"首页"})):v("",!0),t(e)!==1?(n(),_(t(i),{key:1,onClick:M,disabled:t(e)===1,text:"上一页"},null,8,["disabled"])):v("",!0),t($)==="abridge"?(n(),u(P,{key:2},[l.value[0]>2?(n(),u("span",z,"...")):v("",!0),(n(!0),u(P,null,C(l.value,a=>(n(),_(t(i),{key:a,onClick:m=>g(a),state:t(e)===a?"primary":"default",class:b({active:t(e)===a}),text:a},null,8,["onClick","state","class","text"]))),128)),l.value[l.value.length-1]<t(o)-1?(n(),u("span",E,"...")):v("",!0)],64)):(n(!0),u(P,{key:3},C(t(o),a=>(n(),_(t(i),{key:a,onClick:m=>g(a),class:b({active:t(e)===a}),text:a},null,8,["onClick","class","text"]))),128)),h(t(i),{onClick:j,disabled:t(e)===t(o),text:"下一页"},null,8,["disabled"]),h(t(i),{onClick:r[1]||(r[1]=a=>g(t(o))),text:"尾页"})]))}},K=A(L,[["__scopeId","data-v-0e6c6358"]]);export{K as default};
