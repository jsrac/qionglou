import{Q as c}from"./index.81accf4f.js";import{_ as N,e as z,f as F,w as C,U as I,S as Q,o as r,c as u,b as t,y as p,A as d,F as _,M as h,Y as D,n as b,h as E}from"./framework.20dc2a15.js";import"./icon.vue_vue_type_script_setup_true_lang.4d742590.js";import"./text.vue_vue_type_script_setup_true_lang.01441831.js";import"./button.vue_vue_type_script_setup_true_lang.2fcb53c8.js";const L={current:{type:Number},total:{type:Number},layout:{type:String,default:"abridge"},site:{type:String,default:"center"}};const R={key:0},U={key:1},V={__name:"pagination",props:L,setup(S){const A=S;let{current:e,total:s,layout:w,site:k}=A;const y=E(),B={primary:{fontWeight:"500",color:"rgb(255,255,255)",backgroundColor:"rgb(0 120 255)",borderRadius:"4px !important"}},T=z(()=>typeof k=="object"?k:{center:{textAlign:"center",marginTop:"10px"},right:{textAlign:"end",marginTop:"10px"},left:{textAlign:"inherit",marginTop:"10px"}}[k]||{}),v=()=>{const a=s,o=e,n=2;let x=Math.max(1,o-n),P=Math.min(a,o+n);const i=[];for(let f=x;f<=P;f++)i.push(f);return x>1&&(i.unshift("..."),i.unshift(1)),P<a&&(i.push("..."),i.push(a)),i},l=F(v());C([e,s],()=>{l.value=v()}),I("provideCurrentPage",()=>{y==null||y.appContext.app.emit("update:current",e)});const g=a=>{a>=1&&a<=s&&(e=a,l.value=v(),y.emit("update:current",e))},m=a=>g(a),$=()=>g(e-1),j=()=>g(e+1),M=Q("scrollPage");return C(M,a=>{g(e+1)}),(a,o)=>(r(),u("div",{style:D([T.value])},[t(e)!==1?(r(),p(t(c),{key:0,onClick:o[0]||(o[0]=n=>m(1)),text:"首页",type:"text"})):d("",!0),t(e)!==1?(r(),p(t(c),{key:1,onClick:$,disabled:t(e)===1,text:"上一页",type:"text"},null,8,["disabled"])):d("",!0),t(w)==="abridge"?(r(),u(_,{key:2},[l.value[0]>2?(r(),u("span",R,"...")):d("",!0),(r(!0),u(_,null,h(l.value,n=>(r(),p(t(c),{key:n,onClick:x=>m(n),state:t(e)===n?B.primary:"default",class:b({active:t(e)===n}),type:"text",text:n},null,8,["onClick","state","class","text"]))),128)),l.value[l.value.length-1]<t(s)-1?(r(),u("span",U,"...")):d("",!0)],64)):(r(!0),u(_,{key:3},h(t(s),n=>(r(),p(t(c),{key:n,onClick:x=>m(n),class:b({active:t(e)===n}),type:"text",text:n},null,8,["onClick","class","text"]))),128)),t(e)<t(s)?(r(),p(t(c),{key:4,onClick:j,disabled:t(e)===t(s),type:"text",text:"下一页"},null,8,["disabled"])):d("",!0),t(e)<t(s)?(r(),p(t(c),{key:5,onClick:o[1]||(o[1]=n=>m(t(s))),type:"text",text:"尾页"})):d("",!0)],4))}},K=N(V,[["__scopeId","data-v-d207d520"]]);export{K as default};
