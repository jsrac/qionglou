import{P as F,u as N}from"./pagination.148bd27e.js";import{w as I}from"./install.07dc22a1.js";import{d as O,f as u,e as m,i as U,v as V,o as l,c as s,x as y,F as h,K as _,b as c,W as z,D as Y,t as A,_ as E}from"./framework.682d4684.js";const K=I(F),L={data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pageNum:{type:Number,default:10},conHig:{type:String,default:"none"},paging:{type:String,default:"none"},name:{type:String,default:"ql-name"}},Q={class:"table"},W={class:"header-row"},j=O({__name:"table",props:L,setup(M){const H=M,{data:w,columns:x,pageNum:R,conHig:g,name:b}=H,d=u([]),f=u(!1),r=+R,o=u(1),i=u(null),S=m(()=>Math.ceil(w.length/r)),k=u(r*30),D=m(()=>{const t=(o.value-1)*r,a=t+r;return w.slice(t,a)}),q=m(()=>g==="none"?{maxHeight:"fit-content",overflowY:"clip"}:{small:{overflowY:"auto",maxHeight:"400px"},medium:{padding:"16px"},large:{padding:"10px 64px"},mini:{padding:"4px"}}[g]||"padding:"+g);U(()=>{d.value=Array.from(document.querySelectorAll(".row"));const t=P();t>0&&(k.value=r*t)}),V(()=>{d.value=[]});const P=()=>d.value.length>0?d.value[0].clientHeight:0,T=()=>{if(H.conHig!=="none"){if(i.value&&!f.value){const t=i.value.scrollTop,a=i.value.scrollHeight,e=i.value.clientHeight;if(t+e>=a&&o.value!==S.value)f.value=!0,o.value=o.value+1,i.value.scrollTop=0,N(o.value,b);else{const n=P();if(n>0){const C=Math.floor(t/n),v=Math.ceil(C/r)+1;v!==o.value&&(o.value=v,N(v,b))}}}f.value=!1}},B=((t,a)=>{let e;return function(){const p=this,n=arguments;e||(e=setTimeout(()=>{e=null,t.apply(p,n)},a))}})(T,200);return(t,a)=>(l(),s("div",Q,[y("div",W,[(l(!0),s(h,null,_(c(x),e=>(l(),s("div",{key:e.key,class:"column"},A(e.label),1))),128))]),y("div",{style:z(q.value),ref_key:"body",ref:i,onScroll:a[0]||(a[0]=(...e)=>c(B)&&c(B)(...e))},[y("div",{class:"body-content",style:z({height:k.value+"px"})},[(l(!0),s(h,null,_(D.value,(e,p)=>(l(),s("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+p},[(l(!0),s(h,null,_(c(x),n=>(l(),s("div",{key:n.key,class:"column"},A(e[n.key]),1))),128))]))),128))],4)],36),Y(c(K),{ref:"pagination",current:o.value,"onUpdate:current":[a[1]||(a[1]=e=>o.value=e),T],total:S.value},null,8,["current","total"])]))}});const $=E(j,[["__scopeId","data-v-9aa8ec3c"]]);export{$ as default};
