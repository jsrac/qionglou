import{w as I}from"./icon.vue_vue_type_script_setup_true_lang.ef69f720.js";import O from"./pagination.39a4d509.js";import{d as V,f as s,e as v,i as q,v as C,U as T,o as l,c as r,x as m,F as y,M as h,b as i,Y as B,D as E,t as N,_ as L}from"./framework.c9c8872b.js";import"./text.vue_vue_type_script_setup_true_lang.668a868b.js";import"./index.3448ad0b.js";import"./button.vue_vue_type_script_setup_true_lang.60445642.js";const Q=I(O),j={data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pageNum:{type:Number,default:10},conHig:{type:String,default:"none"},paging:{type:String,default:"none"},pageShow:{type:String,default:"abridge"}},G={class:"table"},J={class:"header-row"},K=V({__name:"table",props:j,setup(z){const _=z,{data:b,columns:w,pageNum:A,conHig:g,pageShow:R}=_,x=s(1),d=s([]);s(!1);const c=+A,n=s(1),u=s(null),f=v(()=>Math.ceil(b.length/c)),H=s(c*30),D=v(()=>{const t=(n.value-1)*c,o=t+c;return b.slice(t,o)}),M=v(()=>g==="none"?{maxHeight:"fit-content",overflowY:"clip"}:{small:{overflowY:"auto",maxHeight:"400px"},medium:{padding:"16px"},large:{padding:"10px 64px"},mini:{padding:"4px"}}[g]||"padding:"+g);q(()=>{d.value=Array.from(document.querySelectorAll(".row"));const t=U();t>0&&(H.value=c*t)}),C(()=>{d.value=[]});const U=()=>d.value.length>0?d.value[0].clientHeight:0,Y=()=>{var a,k,P;if(_.conHig==="none"||n.value>=f.value)return;const t=((a=u.value)==null?void 0:a.scrollTop)||0,o=((k=u.value)==null?void 0:k.scrollHeight)||0,e=((P=u.value)==null?void 0:P.clientHeight)||0;t+e>=o&&n.value!==f.value&&(n.value+=1,u.value.scrollTop=0,x.value=n.value)};T("scrollPage",n);const F=(t,o)=>{let e;return function(){const p=this,a=arguments;e||(e=setTimeout(()=>{e=null,t.apply(p,a)},o))}};T("scrollPage",x);const S=F(Y,200);return(t,o)=>(l(),r("div",G,[m("div",J,[(l(!0),r(y,null,h(i(w),e=>(l(),r("div",{key:e.key,class:"column"},N(e.label),1))),128))]),m("div",{style:B(M.value),ref_key:"body",ref:u,onScroll:o[0]||(o[0]=(...e)=>i(S)&&i(S)(...e))},[m("div",{class:"body-content",style:B({height:H.value+"px"})},[(l(!0),r(y,null,h(D.value,(e,p)=>(l(),r("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+p},[(l(!0),r(y,null,h(i(w),a=>(l(),r("div",{key:a.key,class:"column"},N(e[a.key]),1))),128))]))),128))],4)],36),E(i(Q),{ref:"pagination",current:n.value,"onUpdate:current":o[1]||(o[1]=e=>n.value=e),total:f.value,layout:i(R)},null,8,["current","total","layout"])]))}});const oe=L(K,[["__scopeId","data-v-9fcc162d"]]);export{oe as default};
