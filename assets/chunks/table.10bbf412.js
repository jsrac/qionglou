import{w as O}from"./icon.vue_vue_type_script_setup_true_lang.e5a64090.js";import V from"./pagination.66fdbfb7.js";import{d as q,f as i,e as v,i as E,v as L,U as T,o as l,c as s,x as m,F as y,M as h,b as r,Y as z,D as Q,n as B,t as N,_ as j}from"./framework.515a0def.js";import"./text.vue_vue_type_script_setup_true_lang.6aa91f11.js";import"./index.38583f13.js";import"./button.vue_vue_type_script_setup_true_lang.e985f7d1.js";const G=O(V),J={data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pageNum:{type:Number,default:10},conHig:{type:String,default:"none"},paging:{type:String,default:"none"},pageShow:{type:String,default:"abridge"},site:{type:String,default:"center"}},K={class:"table"},W={class:"header-row"},X=q({__name:"table",props:J,setup(A){const _=A,{data:x,columns:b,pageNum:R,conHig:g,pageShow:D,site:M}=_,w=i(1),d=i([]);i(!1);const c=+R,a=i(1),u=i(null),f=v(()=>Math.ceil(x.length/c)),H=i(c*30),U=v(()=>{const t=(a.value-1)*c,o=t+c;return x.slice(t,o)}),Y=v(()=>g==="none"?{maxHeight:"fit-content",overflowY:"clip"}:{small:{overflowY:"auto",maxHeight:"400px"},medium:{padding:"16px"},large:{padding:"10px 64px"},mini:{padding:"4px"}}[g]||"padding:"+g);E(()=>{d.value=Array.from(document.querySelectorAll(".row"));const t=C();t>0&&(H.value=c*t)}),L(()=>{d.value=[]});const C=()=>d.value.length>0?d.value[0].clientHeight:0,F=()=>{var n,k,P;if(_.conHig==="none"||a.value>=f.value)return;const t=((n=u.value)==null?void 0:n.scrollTop)||0,o=((k=u.value)==null?void 0:k.scrollHeight)||0,e=((P=u.value)==null?void 0:P.clientHeight)||0;t+e>=o&&a.value!==f.value&&(a.value+=1,u.value.scrollTop=0,w.value=a.value)};T("scrollPage",a);const I=(t,o)=>{let e;return function(){const p=this,n=arguments;e||(e=setTimeout(()=>{e=null,t.apply(p,n)},o))}};T("scrollPage",w);const S=I(F,200);return(t,o)=>(l(),s("div",K,[m("div",{style:z(Y.value),ref_key:"body",ref:u,onScroll:o[0]||(o[0]=(...e)=>r(S)&&r(S)(...e))},[m("div",W,[(l(!0),s(y,null,h(r(b),e=>(l(),s("div",{key:e.key,class:B(["header-title",{"fixed-column":e.fixed}])},N(e.label),3))),128))]),m("div",{class:"body-content",style:z({height:H.value+"px"})},[(l(!0),s(y,null,h(U.value,(e,p)=>(l(),s("div",{key:e.id,class:"row",ref_for:!0,ref:"rowRef_"+p},[(l(!0),s(y,null,h(r(b),n=>(l(),s("div",{key:n.key,class:B(["column",{"fixed-column":n.fixed}])},N(e[n.key]),3))),128))]))),128))],4)],36),Q(r(G),{ref:"pagination",current:a.value,"onUpdate:current":o[1]||(o[1]=e=>a.value=e),total:f.value,layout:r(D),site:r(M)},null,8,["current","total","layout","site"])]))}});const ne=j(X,[["__scopeId","data-v-865c456a"]]);export{ne as default};
