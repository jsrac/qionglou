import{Q as d}from"./index.81accf4f.js";import{e as D,f as E,w as _,U as I,S as L,o as n,c as y,b as t,y as f,A as h,F as b,M as A,Y as R,n as B,h as U}from"./framework.20dc2a15.js";import"./icon.vue_vue_type_script_setup_true_lang.4d742590.js";import"./text.vue_vue_type_script_setup_true_lang.01441831.js";import"./button.vue_vue_type_script_setup_true_lang.2fcb53c8.js";const V={current:{type:Number},total:{type:Number},layout:{type:String,default:"abridge"},site:{type:String,default:"center"},weight:{type:String,default:"500"},color:{type:String},font:{type:String,default:""},url:{type:String,default:""}},W={key:0},Y={key:1},X={__name:"pagination",props:V,setup(T){const $=T;let{current:e,total:l,layout:j,site:w,url:s,font:i,color:u,weight:c}=$;const m=U(),M={primary:{fontWeight:"500",color:"rgb(255,255,255)",backgroundColor:"rgb(0 120 255)",borderRadius:"4px !important"},text:{}},N=D(()=>typeof w=="object"?w:{center:{textAlign:"center",marginTop:"10px"},right:{textAlign:"end",marginTop:"10px"},left:{textAlign:"inherit",marginTop:"10px"}}[w]||{}),P=()=>{const o=l,a=e,r=2;let v=Math.max(1,a-r),S=Math.min(o,a+r);const g=[];for(let C=v;C<=S;C++)g.push(C);return v>1&&(g.unshift("..."),g.unshift(1)),S<o&&(g.push("..."),g.push(o)),g},p=E(P());_([e,l],()=>{p.value=P()}),I("provideCurrentPage",()=>{m==null||m.appContext.app.emit("update:current",e)});const x=o=>{o>=1&&o<=l&&(e=o,p.value=P(),m.emit("update:current",e))},k=o=>x(o),z=()=>x(e-1),F=()=>x(e+1),Q=L("scrollPage");return _(Q,o=>{x(e+1)}),(o,a)=>(n(),y("div",{style:R([N.value])},[t(e)!==1?(n(),f(t(d),{key:0,onClick:a[0]||(a[0]=r=>k(1)),text:"首页",type:"text",url:t(s),font:t(i),color:t(u),weight:t(c)},null,8,["url","font","color","weight"])):h("",!0),t(e)!==1?(n(),f(t(d),{key:1,onClick:z,disabled:t(e)===1,text:"上一页",type:"text",url:t(s),font:t(i),color:t(u),weight:t(c)},null,8,["disabled","url","font","color","weight"])):h("",!0),t(j)==="abridge"?(n(),y(b,{key:2},[p.value[0]>2?(n(),y("span",W,"...")):h("",!0),(n(!0),y(b,null,A(p.value,r=>(n(),f(t(d),{key:r,onClick:v=>k(r),state:t(e)===r?M.primary:"default",class:B({active:t(e)===r}),type:"text",text:r,url:t(s),font:t(i),color:t(u),weight:t(c)},null,8,["onClick","state","class","text","url","font","color","weight"]))),128)),p.value[p.value.length-1]<t(l)-1?(n(),y("span",Y,"...")):h("",!0)],64)):(n(!0),y(b,{key:3},A(t(l),r=>(n(),f(t(d),{key:r,onClick:v=>k(r),class:B({active:t(e)===r}),type:"text",text:r,url:t(s),font:t(i),color:t(u),weight:t(c)},null,8,["onClick","class","text","url","font","color","weight"]))),128)),t(e)<t(l)?(n(),f(t(d),{key:4,onClick:F,disabled:t(e)===t(l),type:"text",text:"下一页",url:t(s),font:t(i),color:t(u),weight:t(c)},null,8,["disabled","url","font","color","weight"])):h("",!0),t(e)<t(l)?(n(),f(t(d),{key:5,onClick:a[1]||(a[1]=r=>k(t(l))),type:"text",text:"尾页",url:t(s),font:t(i),color:t(u),weight:t(c)},null,8,["url","font","color","weight"])):h("",!0)],4))}};export{X as default};
