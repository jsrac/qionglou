import{f as $,_ as z,w as C,i as x,R as S,o,c as s,x as _,b,F as k,A as g,K as w,t as m,n as M,h as A}from"./framework.682d4684.js";const t=$(1),J=n=>{t.value=n};const D={class:"pagination"},F=["disabled"],I={key:0},N={key:1},O=["onClick"],T={key:2},V={key:3},E=["onClick"],K=["disabled"],L={__name:"pagination",props:["current","total","layout","showSeparator"],setup(n){const{current:p,total:i,layout:q,showSeparator:G}=n,l=A(),y=()=>{const a=i,r=p,e=2;let v=Math.max(1,r-e),P=Math.min(a,r+e);const c=[];for(let h=v;h<=P;h++)c.push(h);return v>1&&(c.unshift("..."),c.unshift(1)),P<a&&(c.push("..."),c.push(a)),c},u=$(y());C([p,i],()=>{t.value=p,u.value=y()});const f=()=>{l==null||l.appContext.app.emit("update:current",t.value)};x(()=>{S("provideCurrentPage",f)});const d=a=>{a>=1&&a<=i&&(t.value=a,l.emit("update:current",a))};C(t,a=>{l.emit("update:current",a)});const j=()=>{t.value>1&&(t.value--,l.emit("update:current",t.value))},B=()=>{t.value<i&&(t.value++,l.emit("update:current",t.value))};return x(()=>{S("provideCurrentPage",f)}),(a,r)=>(o(),s("div",D,[_("button",{onClick:r[0]||(r[0]=e=>d(1))},"首页"),_("button",{onClick:j,disabled:b(t)===1},"上一页",8,F),n.layout==="abridge"?(o(),s(k,{key:0},[u.value[0]!==1?(o(),s("button",I,"1")):g("",!0),u.value[0]>2?(o(),s("span",N,"...")):g("",!0),(o(!0),s(k,null,w(u.value,e=>(o(),s("button",{key:e,onClick:v=>d(e),class:M({active:b(t)===e})},m(e),11,O))),128)),u.value[u.value.length-1]<n.total-1?(o(),s("span",T,"...")):g("",!0),u.value[u.value.length-1]!==n.total?(o(),s("button",V,m(n.total),1)):g("",!0)],64)):(o(!0),s(k,{key:1},w(n.total,e=>(o(),s("button",{key:e,onClick:v=>d(e),class:M({active:b(t)===e})},m(e),11,E))),128)),_("button",{onClick:B,disabled:b(t)===n.total},"下一页",8,K),_("button",{onClick:r[1]||(r[1]=e=>d(n.total))},"尾页")]))}},R=z(L,[["__scopeId","data-v-b5c0c74b"]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{R as P,Q as p,J as u};
